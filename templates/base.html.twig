<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>
        <link rel="icon" type="image/png" href="/assets/favicon.png" sizes="32x32" />
        <link rel="shortcut icon" href="/assets/favicon.png" type="image/png" />
        <link rel="icon" type="image/x-icon" href="/assets/favicon.ico" />

        {% block stylesheets %}{% endblock %}

        {% block javascripts %}
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        {% endblock %}
    </head>
    <body>
        <nav class="navbar-main">
            <div class="navbar-left">
                {% if app.user and app.user.profilePicture %}
                    <a href="{% if is_granted('ROLE_ADMIN') %}{{ path('admin_dashboard') }}{% elseif is_granted('ROLE_RH') %}{{ path('rh_dashboard') }}{% else %}{{ path('home') }}{% endif %}" style="display:flex;align-items:center;gap:10px;text-decoration:none;">
                        <img src="{{ asset('uploads/profile/' ~ app.user.profilePicture) }}" alt="Profile" class="navbar-avatar">
                        <span class="navbar-email">Logged in as: {{ app.user.name ? app.user.name : app.user.email }}</span>
                    </a>
                {% else %}
                    <a href="{% if is_granted('ROLE_ADMIN') %}{{ path('admin_dashboard') }}{% elseif is_granted('ROLE_RH') %}{{ path('rh_dashboard') }}{% else %}{{ path('home') }}{% endif %}" style="display:flex;align-items:center;gap:10px;text-decoration:none;">
                        <span class="navbar-avatar"><i class="fas fa-user"></i></span>
                        <span class="navbar-email">Logged in as: {{ app.user ? (app.user.name ? app.user.name : app.user.email) : 'Guest' }}</span>
                    </a>
                {% endif %}
            </div>
            <div class="navbar-links">
                {% if app.user %}
                    <a href="{{ path('profile') }}" class="navbar-link">Profile</a>
                    <a href="{{ path('change_password') }}" class="navbar-link">Change Password</a>
                    {% if is_granted('ROLE_RH') %}
                        <form method="post" action="{{ path('inform_admin') }}" style="display:inline;">
                            <button type="submit" class="navbar-link" style="border:none;background:none;padding:0;margin:0;cursor:pointer;">Inform</button>
                        </form>
                    {% endif %}
                    {% if is_granted('ROLE_ADMIN') %}
                        <a href="{{ path('admin_add_user') }}" class="navbar-link">Add User</a>
                    {% endif %}
                    <a href="{{ path('app_logout') }}" class="navbar-link navbar-logout"><span class="logout-icon">&#8594;</span> Logout</a>
                {% else %}
                    <a href="{{ path('app_login') }}" class="navbar-link">Login</a>
                {% endif %}
            </div>
        </nav>
        <div class="main-content-centered">
            {% block body %}{% endblock %}
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        {% if app.user %}
        {% endif %}
    </body>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: linear-gradient(135deg, #009FE3 0%, #F9B233 100%);
            overflow-x: hidden;
        }
        .navbar-main {
            width: 90vw;
            max-width: 1100px;
            background: #fff;
            backdrop-filter: blur(8px);
            padding: 0 36px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 32px auto 48px auto;
            border-radius: 40px;
            box-shadow: 0 4px 32px rgba(0,0,0,0.10);
            height: 72px;
        }
        .navbar-left {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .navbar-avatar {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: #BDBDBD;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.7rem;
            color: #009FE3;
            object-fit: cover;
            border: 2.5px solid #009FE3;
            margin-right: 0;
        }
        .navbar-email {
            font-weight: 700;
            font-size: 1.18rem;
            color: #222;
            margin-left: 0;
        }
        .navbar-links {
            display: flex;
            align-items: center;
            gap: 18px;
            margin-right: 0;
        }
        .navbar-link {
            color: #fff;
            background: linear-gradient(90deg, #009FE3 0%, #F9B233 100%);
            font-weight: 600;
            font-size: 1.08rem;
            text-decoration: none;
            padding: 10px 28px;
            border-radius: 22px;
            transition: background 0.2s, color 0.2s, box-shadow 0.2s;
            box-shadow: 0 2px 8px rgba(0,159,227,0.08);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .navbar-link:hover {
            background: linear-gradient(90deg, #F9B233 0%, #009FE3 100%);
            color: #222;
            box-shadow: 0 4px 16px rgba(0,159,227,0.16);
        }
        .navbar-logout {
            color: #fff;
            background: linear-gradient(90deg, #ff4757 0%, #ff8c42 100%);
            font-weight: 700;
            margin-left: 0;
        }
        .navbar-logout:hover {
            background: linear-gradient(90deg, #ff8c42 0%, #ff4757 100%);
            color: #fff;
        }
        .logout-icon {
            font-size: 1.2em;
            margin-right: 6px;
        }
        .main-content-centered {
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
            padding: 0 16px 40px 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-sizing: border-box;
        }
        .card, .profile-card, .change-password-card, .opportunities-section, .modal-content {
            width: 100%;
            max-width: 600px;
            margin: 0 auto 32px auto;
            background: #fff;
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0, 159, 227, 0.10);
            border: 2.5px solid #BDBDBD;
            box-sizing: border-box;
        }
        .btn-primary, .profile-save-btn, .btn-edit {
            background: linear-gradient(90deg, #009FE3 0%, #F9B233 100%);
            color: #fff;
            border: none;
            padding: 13px 36px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.3s, box-shadow 0.2s;
            box-shadow: 0 2px 8px rgba(0,159,227,0.10);
            outline: none;
        }
        .btn-primary:hover, .profile-save-btn:hover, .btn-edit:hover {
            background: linear-gradient(90deg, #F9B233 0%, #009FE3 100%);
            color: #222;
            box-shadow: 0 4px 16px rgba(0,159,227,0.16);
        }
        .btn-secondary {
            background: #BDBDBD;
            color: #fff;
            border: none;
            padding: 13px 36px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.3s, box-shadow 0.2s;
        }
        .btn-secondary:hover {
            background: #009FE3;
            color: #fff;
        }
        input, select, textarea {
            border-radius: 12px;
            border: 1.5px solid #BDBDBD;
            padding: 14px 15px;
            font-size: 1.08rem;
            background: #f8fbff;
            transition: border-color 0.3s, box-shadow 0.2s;
            font-weight: 500;
            box-shadow: 0 1px 4px rgba(0,159,227,0.04);
        }
        input:focus, select:focus, textarea:focus {
            border: 1.5px solid #009FE3;
            outline: none;
            background: #fffbe0;
            box-shadow: 0 2px 8px rgba(0,159,227,0.10);
        }
        .alert-success { background: #e0ffe0; color: #009FE3; border: 1px solid #BDBDBD; }
        .alert-error { background: #fff0e0; color: #F9B233; border: 1px solid #BDBDBD; }
        @media (max-width: 900px) {
            .navbar-main { padding: 0 10px; }
            .main-content-centered { max-width: 100vw; padding: 0 4vw 40px 4vw; }
            .card, .profile-card, .change-password-card, .opportunities-section, .modal-content { max-width: 100vw; }
        }
    </style>
</html>
